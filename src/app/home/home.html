<div
  id="controls-carousel"
  class="relative w-full mx-auto my-8"
  data-carousel="slide"
  data-carousel-interval="4000"
>
  <div class="absolute inset-0 z-40 flex items-center justify-center pointer-events-none">
    <div
      class="relative w-full max-w-xl bg-gradient-to-br from-gray-900/70 via-black/85 to-gray-900/70 text-white p-6 md:p-8 rounded-xl backdrop-blur-md border border-gray-700/50 shadow-2xl shadow-black/50 pointer-events-auto transform transition-all duration-300 hover:scale-[1.03]"
    >
      <img
        src="https://pbs.twimg.com/profile_images/1836175849508237312/aqvu2b1R_400x400.jpg"
        alt="Lights Out Logo"
        class="glass-thumb absolute top-3 right-3 w-14 h-14 md:w-16 md:h-16 object-cover"
      />

      <h1
        class="text-3xl md:text-4xl font-bold bg-gradient-to-r from-yellow-300 via-orange-400 to-yellow-300 bg-clip-text text-transparent animate-gradient"
      >
        What is Lights Out?
      </h1>

      <div class="mt-5 space-y-3 text-gray-300 text-sm md:text-base leading-relaxed">
        <div
          class="flex items-start gap-4 p-3 rounded-lg hover:bg-gray-800/30 transition-colors duration-300"
        >
          <div
            class="flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br from-yellow-500/20 to-orange-500/20 flex items-center justify-center mt-1"
          >
            <span class="text-yellow-400 text-xs">✦</span>
          </div>
          <p>
            A project evolving for over four years, starting as Halo-focused and transforming into a
            unique crossover.
          </p>
        </div>

        <div
          class="flex items-start gap-4 p-3 rounded-lg hover:bg-gray-800/30 transition-colors duration-300"
        >
          <div
            class="flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br from-yellow-500/20 to-orange-500/20 flex items-center justify-center mt-1"
          >
            <span class="text-yellow-400 text-xs">✦</span>
          </div>
          <p>
            The discovery of Murder Drones revealed an untouched opportunity to merge two compelling
            universes.
          </p>
        </div>

        <div
          class="flex items-start gap-4 p-3 rounded-lg hover:bg-gray-800/30 transition-colors duration-300"
        >
          <div
            class="flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br from-yellow-500/20 to-orange-500/20 flex items-center justify-center mt-1"
          >
            <span class="text-yellow-400 text-xs">✦</span>
          </div>
          <p>
            Now reborn stronger than ever, creating innovative narratives through this unprecedented
            fusion.
          </p>
        </div>
      </div>
    </div>
  </div>

  <div class="relative h-164 overflow-hidden rounded-base glass-thumb">
    @for (image of mainImages; track $index) {
    <div class="hidden duration-700 ease-in-out" data-carousel-item>
      <img [src]="image" class="absolute inset-0 w-full h-full object-cover" alt="" />
      <div class="image-dark-edge"></div>
    </div>
    }
  </div>

  <button
    type="button"
    class="absolute inset-y-0 start-0 z-30 flex items-center px-3 group cursor-pointer"
    data-carousel-prev
  >
    <span
      class="w-10 h-10 flex items-center justify-center rounded-base bg-white/25 hover:bg-white/40 transition"
    >
      <svg class="w-5 h-5 text-white" viewBox="0 0 24 24" fill="none">
        <path stroke="currentColor" stroke-width="2" stroke-linecap="round" d="m15 19-7-7 7-7" />
      </svg>
    </span>
  </button>

  <button
    type="button"
    class="absolute inset-y-0 end-0 z-30 flex items-center px-3 group cursor-pointer"
    data-carousel-next
  >
    <span
      class="w-10 h-10 flex items-center justify-center rounded-base bg-white/25 hover:bg-white/40 transition"
    >
      <svg class="w-5 h-5 text-white" viewBox="0 0 24 24" fill="none">
        <path stroke="currentColor" stroke-width="2" stroke-linecap="round" d="m9 5 7 7-7 7" />
      </svg>
    </span>
  </button>

  <div class="absolute bottom-4 left-1/2 -translate-x-1/2 z-30 flex space-x-2">
    @for (i of mainImages; track $index) {
    <button class="w-3 h-3 rounded-base" data-carousel-slide-to="$index"></button>
    }
  </div>
</div>

<div id="showcase" class="max-w-7xl mx-auto px-4">
  <div
    class="bg-robot-3d rounded-2xl p-8 mb-12 border border-gray-800/50 shadow-[0_20px_40px_-15px_rgba(0,0,0,0.5)]"
  >
    <div class="text-center mb-12">
      <div
        class="inline-flex flex-col items-center group cursor-pointer mb-8"
        (click)="scrollToGallery()"
      >
        <div class="relative mb-4">
          <div
            class="absolute inset-0 bg-gradient-to-br from-yellow-400/20 to-orange-500/20 rounded-full blur-md group-hover:blur-lg transition-all duration-300"
          ></div>
          <div
            class="ring-4 ring-yellow-400 group-hover:ring-orange-400 relative bg-gradient-to-br from-gray-800 to-gray-900 p-4 rounded-full border border-gray-700/50 shadow-lg group-hover:shadow-xl transition-all duration-300"
          >
            <svg
              class="w-8 h-8 text-yellow-400 group-hover:text-orange-400 animate-bounce transition-colors duration-300"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 19V5m0 14-4-4m4 4 4-4"
              />
            </svg>
          </div>
        </div>

        <h1 class="h1-dark mb-2">Last Posts</h1>
        <p class="text-gray-400 text-sm font-medium tracking-wider">EXPLORE THE LATEST UPDATES</p>
      </div>
    </div>

    <div class="max-w-6xl mx-auto space-y-8">
      <div
        (click)="open(0)"
        class="cursor-pointer relative group overflow-hidden rounded-xl border-2 border-gray-700/50 hover:border-yellow-500/40 shadow-lg hover:shadow-xl hover:shadow-yellow-500/10 transition-all duration-500"
      >
        <app-image-loader
          [src]="lastImages[0]"
          className="w-full h-64 md:h-96 object-cover transform group-hover:scale-110 transition-transform duration-10000"
        ></app-image-loader>

        <div
          class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 flex items-end p-6"
        >
          <div>
            <span
              class="inline-block px-3 py-1 mb-2 rounded-full text-xs font-bold bg-gradient-to-r from-yellow-500 to-orange-500 text-gray-900"
            >
              LAST POST
            </span>
            <h3 class="text-white text-xl font-bold">Latest Project Update</h3>
          </div>
        </div>
      </div>

      <div class="grid grid-cols-3 gap-4">
        @for (img of lastImages.slice(1,4); track $index) {
        <div
          (click)="open($index + 1)"
          class="cursor-pointer group relative overflow-hidden rounded-lg border border-gray-700/50 hover:border-yellow-500/30 bg-gradient-to-br from-gray-900/50 to-black/50 shadow-md hover:shadow-lg hover:shadow-yellow-500/5 transition-all duration-500 hover:-translate-y-1"
        >
          <app-image-loader
            [src]="img"
            className="w-full h-32 md:h-48 object-cover transform group-hover:scale-110 transition-transform duration-7000"
          ></app-image-loader>

          <div
            class="absolute top-2 left-2 w-8 h-8 rounded-full bg-gradient-to-br from-gray-900 to-black border border-gray-700/50 flex items-center justify-center"
          >
            <span class="text-xs font-bold text-yellow-400">{{ $index + 1 }}</span>
          </div>
        </div>
        }
      </div>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        @for (img of lastImages.slice(4,8); track $index) {
        <div
          (click)="open($index + 4)"
          class="cursor-pointer group relative overflow-hidden rounded-lg border border-gray-700/50 hover:border-orange-500/30 bg-gradient-to-br from-gray-900/50 to-black/50 shadow-md hover:shadow-lg hover:shadow-orange-500/5 transition-all duration-500 hover:scale-[1.02]"
        >
          <app-image-loader
            [src]="img"
            className="w-full h-32 md:h-40 object-cover transform group-hover:scale-110 transition-transform duration-7000"
          ></app-image-loader>

          <div
            class="absolute top-2 right-2 w-8 h-8 rounded-full bg-gradient-to-br from-gray-900 to-black border border-gray-700/50 flex items-center justify-center"
          >
            <span class="text-xs font-bold text-yellow-400">{{ $index + 4 }}</span>
          </div>
        </div>
        }
      </div>

      <div class="grid grid-cols-3 gap-4">
        @for (img of lastImages.slice(8,11); track $index) {
        <div
          (click)="open($index + 8)"
          class="cursor-pointer group relative overflow-hidden rounded-lg border border-gray-700/50 hover:border-yellow-500/30 bg-gradient-to-br from-gray-900/50 to-black/50 shadow-md hover:shadow-lg hover:shadow-yellow-500/5 transition-all duration-500 hover:rotate-1"
        >
          <app-image-loader
            [src]="img"
            className="w-full h-32 md:h-40 object-cover transform group-hover:scale-110 transition-transform duration-7000"
          ></app-image-loader>

          <div
            class="absolute top-2 left-2 w-8 h-8 rounded-full bg-gradient-to-br from-gray-900 to-black border border-gray-700/50 flex items-center justify-center"
          >
            <span class="text-xs font-bold text-yellow-400">{{ $index + 8 }}</span>
          </div>
        </div>
        }
      </div>

      <div class="text-center pt-8">
        <a href="posters">
          <button
            class="cursor-pointer inline-flex items-center gap-2 px-6 py-3 rounded-lg bg-gradient-to-r from-gray-800 to-gray-900 hover:from-gray-700 hover:to-gray-800 border border-gray-700/50 hover:border-yellow-500/50 text-gray-300 hover:text-white transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-yellow-500/10 group"
          >
            <span class="font-medium">View All Posts</span>
            <svg
              class="w-5 h-5 text-yellow-400 group-hover:translate-x-1 transition-transform"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M14 5l7 7m0 0l-7 7m7-7H3"
              />
            </svg>
          </button>
        </a>
      </div>
    </div>
  </div>
</div>
